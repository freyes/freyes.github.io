<!DOCTYPE html>
<html lang="en">
<head>
          <title>TTY.cl</title>
        <meta charset="utf-8" />
        <link href="http://tty.cl//feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="TTY.cl Full Atom Feed" />
        <link href="http://tty.cl//feeds/{slug}.atom.xml" type="application/atom+xml" rel="alternate" title="TTY.cl Categories Atom Feed" />



    <meta name="tags" contents="postgresql" />
    <meta name="tags" contents="tips" />

        <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
        <link href="/theme/css/pygment.css" rel="stylesheet">
        <link href="/theme/css/style.css" rel="stylesheet">
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
</head>

<body id="index" class="home">
  <div id="header-wrapper" class="navbar navbar-fixed-top">
    <div id="header">
      <div class="container">
        <div class="logo navbar-header">
          <a class="navbar-brand" href="." title="me">
            <img class="image" height="38" width="38" src="/theme/images/logo.png" />
            <span class="name">TTY.cl</span>
          </a>
          <p class="subtitle">Random thoughts and knowledge</p>
        </div>
        <div id="top-nav-list" class="collapse navbar-collapse">
          <ul class="nav navbar-nav pull-right">

          </ul>
        </div>
      </div>
    </div>
  </div>
  <div id="content-wrapper">
    <div class="container">
      <p class="socialconnect">
<a href="https://twitter.com/gnusis" title="Connect on Twitter"><i class="fa fa-twitter"></i></a><a href="https://www.linkedin.com/in/" title="Connect on LinkedIn"><i class="fa fa-linkedin"></i></a><a href="#" title="Connect on GitHub"><i class="fa fa-github"></i></a><a href="https://www.flickr.com/photos/freyes" title="Connect on Flickr"><i class="fa fa-flickr"></i></a>      </p>
<div class="content brarius6">
  <h1 class="page-title">
    <a href="./postgresql-tips-n-tricks.html" rel="bookmark"
       title="Permalink to Postgresql Tips n' Tricks">
      Postgresql Tips n' Tricks
    </a>
  </h1>
  <div class="page-subtitle">
    <abbr class="published" title="2013-11-22T15:23:00-03:00">
      Fri 22 November 2013
    </abbr>
    <address class="vcard author">
      By <a class="url fn" href="./author/felipe-reyes.html">Felipe Reyes</a>
    </address>
  </div>
  <div class="content-body">
    <ul class="simple">
<li>pg_stat_activity</li>
</ul>
<p><a class="reference external" href="http://www.postgresql.org/docs/current/static/monitoring-stats.html">pg_stat_activity</a>
is a view that belongs to the postgresql catalog, it helps you to view the
status of the queries that are in execution, the explanation of each column
can be found in the postgresql manual <a class="reference external" href="http://www.postgresql.org/docs/current/static/monitoring-stats.html">The Statistics Collector</a>
section (I don't want to do a simply copy-paste, so see the official documentation).</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="49%" />
<col width="21%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Column</th>
<th class="head">Type</th>
<th class="head">Modifiers</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>datid</td>
<td>oid</td>
<td>&nbsp;</td>
</tr>
<tr><td>datname</td>
<td>name</td>
<td>&nbsp;</td>
</tr>
<tr><td>procpid</td>
<td>integer</td>
<td>&nbsp;</td>
</tr>
<tr><td>usesysid</td>
<td>oid</td>
<td>&nbsp;</td>
</tr>
<tr><td>usename</td>
<td>name</td>
<td>&nbsp;</td>
</tr>
<tr><td>current_query</td>
<td>text</td>
<td>&nbsp;</td>
</tr>
<tr><td>waiting</td>
<td>boolean</td>
<td>&nbsp;</td>
</tr>
<tr><td>xact_start</td>
<td>timestamp with time zone</td>
<td>&nbsp;</td>
</tr>
<tr><td>query_start</td>
<td>timestamp with time zone</td>
<td>&nbsp;</td>
</tr>
<tr><td>backend_start</td>
<td>timestamp with time zone</td>
<td>&nbsp;</td>
</tr>
<tr><td>client_addr</td>
<td>inet</td>
<td>&nbsp;</td>
</tr>
<tr><td>client_port</td>
<td>integer</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">pg_stat_activity</span><span class="p">;</span>
</pre></div>
<ul>
<li><p class="first">If you want to view the queries that are stuck (usually due to a lock or simply waiting for I/O) you can execute the following query:</p>
<div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">pg_stat_activity</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">waiting</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">TRUE</span><span class="p">;</span>
</pre></div>
</li>
</ul>

  </div>
  <div class="row">
      <div class="span6">          <a href="tag/postgresql.html"><span class="label label-default">postgresql</span></a>          <a href="tag/tips.html"><span class="label label-default">tips</span></a>      </div>
      <div class="span6">
          <div class="pull-right">
              <a href="https://twitter.com/share?text=Postgresql Tips n' Tricks&url=./postgresql-tips-n-tricks.html&via=gnusis" type="button" class="btn btn-info"><i class="fa fa-twitter-square"></i> Tweet</a>
          </div>
      </div>
  </div>
</div>

    </div>
  </div>

  <div id="footer-wrapper">
    <div id="footer" class="container clearfix">
      <p class="copyrights pull-left">Copyright Â©2013 Felipe Reyes. All rights reserved.</p>
      <p class="socialconnect footer pull-right">
<a href="https://twitter.com/gnusis" title="Connect on Twitter"><i class="fa fa-twitter"></i></a><a href="https://www.linkedin.com/in/" title="Connect on LinkedIn"><i class="fa fa-linkedin"></i></a><a href="#" title="Connect on GitHub"><i class="fa fa-github"></i></a><a href="https://www.flickr.com/photos/freyes" title="Connect on Flickr"><i class="fa fa-flickr"></i></a>      </p>
    </div>
  </div>
</body>
</html>